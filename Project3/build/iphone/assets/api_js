var dbModule=require("database"),getData3=function(e,a){var t="https://na.api.pvp.net/api/lol/na/v1.3/game/by-summoner/"+a+"/recent?api_key=0ae1d37e-0440-419e-a952-c827eec43d86",s=function(){for(var a=JSON.parse(this.responseText),t=[],s=0,n=a.games.length;n>s;s++)t.push({kills:a.games[s].championsKilled,deaths:a.games[s].numDeaths,assists:a.games[s].assists,cs:a.games[s].minionsKilled,playTime:a.games[s].timePlayed,win:a.games[s].win});e.recent=t},n=function(e){console.log("error getting data",e.error)},i=Ti.Network.createHTTPClient({onload:s,onerror:n,timeout:3e3});i.open("GET",t),i.send()},getData2=function(e){var a="https://na.api.pvp.net/api/lol/na/v2.5/league/by-summoner/"+e+"/entry?api_key=0ae1d37e-0440-419e-a952-c827eec43d86",t=function(){var a=JSON.parse(this.responseText);for(var t in a)var s={summoner:a[t][0].entries[0].playerOrTeamName,queue:a[t][0].queue,name:a[t][0].name,tier:a[t][0].tier,division:a[t][0].entries[0].division,leaguePoints:a[t][0].entries[0].leaguePoints,wins:a[t][0].entries[0].wins,losses:a[t][0].entries[0].losses,streak:a[t][0].entries[0].isHotStreak,veteran:a[t][0].entries[0].isVeteran,"new":a[t][0].entries[0].isFreshBlood,inactive:a[t][0].entries[0].isInactive};getData3(s,e),dbModule.save(s),adbModule.saveCloud(s)},s=function(e){console.log("error getting data",e.error)},n=Ti.Network.createHTTPClient({onload:t,onerror:s,timeout:3e3});n.open("GET",a),n.send()},getData1=function(e){var a="https://na.api.pvp.net/api/lol/na/v1.4/summoner/by-name/"+e+"/?api_key=0ae1d37e-0440-419e-a952-c827eec43d86",t=function(){var e=JSON.parse(this.responseText);console.log(e,".... riotInfo");for(var a in e)getData2(e[a].id),getData3(e[a].id)},s=function(e){console.log("error getting data",e.error)},n=Ti.Network.createHTTPClient({onload:t,onerror:s,timeout:3e3});n.open("GET",a),n.send()};exports.getData1=getData1;